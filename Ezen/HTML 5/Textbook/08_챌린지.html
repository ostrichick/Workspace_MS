<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>
    <link rel="stylesheet" href="" />
    <style>
      #table {
        text-align: center;
        width: 220px;
        /* height: 300px;  */
        border: 3px solid #777;
        background: yellowgreen;
        font-size: 80px;
      }
    </style>
    <script>
      //난수 출력

      // 클릭시 스크립트를 실행하고 난수를 생성해서 해당 span안에 집어넣어야함
      let state_clicked1 = false;
      let state_clicked2 = false;
      let state_clicked3 = false;
      function roll1(obj) {
        if (state_clicked1) {
          alert("이미 클릭한 숫자입니다. 다른 숫자를 눌러주세요");
        } else {
          num01 = Math.floor(Math.random() * 3);
          obj.innerHTML = num01;
          obj.style.background = "red";
          state_clicked1 = true;
          result();
        }
      }
      function roll2(obj) {
        if (state_clicked2) {
          alert("이미 클릭한 숫자입니다. 다른 숫자를 눌러주세요");
        } else {
          num02 = Math.floor(Math.random() * 3);
          obj.innerHTML = num02;
          obj.style.background = "red";
          state_clicked2 = true;
          result();
        }
      }
      function roll3(obj) {
        if (state_clicked3) {
          alert("이미 클릭한 숫자입니다. 다른 숫자를 눌러주세요");
        } else {
          num03 = Math.floor(Math.random() * 3);
          obj.innerHTML = num03;
          obj.style.background = "red";
          state_clicked3 = true;
          result();
        }
      }
      // 숫자를 체크하고 승패여부 출력
      function result() {
        if (state_clicked1 && state_clicked2 && state_clicked3) {
          if (num01 === num02 && num02 === num03) {
            document.querySelector("#result").innerHTML = "<strong>성공! (여기를 클릭하여 게임 다시 시작)<strong>";
          } else {
            document.querySelector("#result").innerHTML = "실패! (여기를 클릭하여 게임 다시 시작)";
          }
        }
      }
      // setInterval(result, 500);
      // 결과 출력창을 누르면 리셋
      function reset(obj) {
        if (state_clicked1 && state_clicked2 && state_clicked3) {
          document.querySelector("#num01").innerHTML = "0";
          document.querySelector("#num01").style.background = "transparent";
          state_clicked1 = false;
          document.querySelector("#num02").innerHTML = "0";
          document.querySelector("#num02").style.background = "transparent";
          state_clicked2 = false;
          document.querySelector("#num03").innerHTML = "0";
          document.querySelector("#num03").style.background = "transparent";
          state_clicked3 = false;
          document.querySelector("#result").innerHTML = "";
        }
      }
    </script>
  </head>
  <body>
    <h1>갬블링 게임</h1>
    각 숫자를 클릭하면 0에서 2 사이의 난수로 바뀝니다. 모두 같은 수가 나오면 승리합니다
    <hr />
    <div id="table">
      <span id="num01" class="num" onclick="roll1(this)">0</span>
      <span id="num02" class="num" onclick="roll2(this)">0</span>
      <span id="num03" class="num" onclick="roll3(this)">0</span>
    </div>
    <p id="result" onclick="reset(this)"></p>
  </body>
</html>
